

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Grasp Validator &mdash; EMD alpha documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Grasp Execution Demo" href="grasp_execution_demo.html" />
    <link rel="prev" title="Running the Grasp Planner" href="grasp_planner_run.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> EMD
          

          
            
            <img src="_static/emd_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_concepts.html">Common Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_instructions.html">Download Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="emd_example.html">Step-By-Step Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="workcell_builder.html">Workcell Builder</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="grasp_planner.html">Grasp Planner</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="grasp_planner_before.html">Before running the Grasp Planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="grasp_planner_run.html">Running the Grasp Planner</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Grasp Validator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#before-running-this-package">Before running this package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#depth-img-jpg">depth_img.jpg</a></li>
<li class="toctree-l4"><a class="reference internal" href="#grasps-txt">grasps.txt</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-coordinates-txt">object_coordinates.txt</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-depth-checker">Running the depth checker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-grasp-validator">Running the grasp validator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grasp_execution_demo.html">Grasp Execution Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_plans.html">Future Plans</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EMD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="grasp_planner.html">Grasp Planner</a> &raquo;</li>
        
      <li>Grasp Validator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/grasp_validator.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="grasp-validator">
<span id="id1"></span><h1>Grasp Validator<a class="headerlink" href="#grasp-validator" title="Permalink to this headline">¶</a></h1>
<p>This Python package serves as a troubleshooting tools to visualize your grasps as well as to check the accuracy of your depth camera. There are two main programs you can run:</p>
<p><strong>Grasp Validator</strong>
Visualize your grasps from the perspective of the camera to validate the quality of the generated grasp plan</p>
<p><strong>Depth Checker</strong>
Visualize plane filtering with respect to the table height</p>
<div class="section" id="before-running-this-package">
<h2>Before running this package<a class="headerlink" href="#before-running-this-package" title="Permalink to this headline">¶</a></h2>
<p>As this is a troubleshooting toolkit, you are required to have a few files for the package to work</p>
<div class="section" id="depth-img-jpg">
<h3>depth_img.jpg<a class="headerlink" href="#depth-img-jpg" title="Permalink to this headline">¶</a></h3>
<p>(Located in workcell_ws/src/easy_perception_deployment/grasp_validator/images/)</p>
<p>This is the depth image (jpg, png) file from the depth camera. Please ensure that it is the <strong>depth image</strong> not an RGB image. Typically this image will be either pitch black/greyish to the naked eye. The size of the image <strong>must also be the exact pixel dimensions</strong> that the perception system sends to the grasp planner, as the visualization uses the coordinates of this depth image.</p>
<a class="reference internal image-reference" href="_images/depth_img.jpg"><img alt="_images/depth_img.jpg" class="align-center" src="_images/depth_img.jpg" style="width: 256.0px; height: 192.0px;" /></a>
</div>
<div class="section" id="grasps-txt">
<h3>grasps.txt<a class="headerlink" href="#grasps-txt" title="Permalink to this headline">¶</a></h3>
<p>(Located in workcell_ws/src/easy_perception_deployment/grasp_validator/results/)</p>
<p>This file contains the output of the grasp planner. This is automatically generated by the grasp planner.</p>
<p>For a two finger gripper, the grasps.txt file should have 8 comma separated integers, representing corner coordinates of the gripper</p>
<p>For a suction gripper, the grasps.txt file should have 3 comma separated integers, representing the center coordinates of the suction cup, and the pixel radius of the suction cup.</p>
</div>
<div class="section" id="object-coordinates-txt">
<h3>object_coordinates.txt<a class="headerlink" href="#object-coordinates-txt" title="Permalink to this headline">¶</a></h3>
<p>(Located in workcell_ws/src/easy_perception_deployment/grasp_validator/results/)</p>
<p>This file contains the filtered coordinates of the work area . This is automatically generated by the grasp planner.</p>
<p>The file will store coordinates of areas which are higher (Lower in depth value) than the table surface.</p>
</div>
</div>
<div class="section" id="running-the-depth-checker">
<h2>Running the depth checker<a class="headerlink" href="#running-the-depth-checker" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run grasp_validator depth_checker
</pre></div>
</div>
<p>Your depth image will now have marked areas that shows the surfaces higher than the grasp surface. Ideally you would want the marked areas to represent the object surfaces. If there are other areas highlighted in the image, you might need to either increase the depth value of the table, or move your grasp surface to a flatter surface. <strong>A noisy depth image may lead to inaccurate grasp planning</strong></p>
<a class="reference internal image-reference" href="_images/depth_checker.jpg"><img alt="_images/depth_checker.jpg" class="align-center" src="_images/depth_checker.jpg" style="width: 475.5px; height: 364.5px;" /></a>
</div>
<div class="section" id="running-the-grasp-validator">
<h2>Running the grasp validator<a class="headerlink" href="#running-the-grasp-validator" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ros2 run grasp_validator validator
</pre></div>
</div>
<p>Depending on the type of gripper, the output will show the annotated depth images.</p>
<a class="reference internal image-reference" href="_images/validator_finger.png"><img alt="_images/validator_finger.png" class="align-center" src="_images/validator_finger.png" style="width: 480.0px; height: 360.0px;" /></a>
<a class="reference internal image-reference" href="_images/validator_suction.png"><img alt="_images/validator_suction.png" class="align-center" src="_images/validator_suction.png" style="width: 473.25px; height: 396.75px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="grasp_execution_demo.html" class="btn btn-neutral float-right" title="Grasp Execution Demo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="grasp_planner_run.html" class="btn btn-neutral float-left" title="Running the Grasp Planner" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Glenn Tan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>