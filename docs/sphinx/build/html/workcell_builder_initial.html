

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Workcell Initialization &mdash; EMD alpha documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Create A Scene" href="workcell_builder_create_scene.html" />
    <link rel="prev" title="Workcell Builder" href="workcell_builder.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> EMD
          

          
            
            <img src="_static/emd_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="common_concepts.html">Common Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="download_instructions.html">Download Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="emd_example.html">Step-By-Step Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="workcell_builder.html">Workcell Builder</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Workcell Initialization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#folder-structure">Folder structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#folder-structure-for-assets">Folder Structure for Assets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#generating-moveit-config-packages">Generating Moveit Config packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#for-ros-2"><strong>FOR ROS 2</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uploading-relevant-assets">Uploading Relevant Assets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#robots">Robots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#end-effector">End Effector</a></li>
<li class="toctree-l4"><a class="reference internal" href="#environment-objects">Environment Objects</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workcell_builder_create_scene.html">Create A Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="workcell_builder_generate_folder_files.html">Generate Files and Folders</a></li>
<li class="toctree-l2"><a class="reference internal" href="workcell_builder_run_demo.html">Run workcell demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="workcell_builder_edit_scene.html">Editing Existing Scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="workcell_builder_conventions.html">Conventions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grasp_planner.html">Grasp Planner</a></li>
<li class="toctree-l1"><a class="reference internal" href="grasp_execution_demo.html">Grasp Execution Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="future_plans.html">Future Plans</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">EMD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="workcell_builder.html">Workcell Builder</a> &raquo;</li>
        
      <li>Workcell Initialization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/workcell_builder_initial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="workcell-initialization">
<span id="id1"></span><h1>Workcell Initialization<a class="headerlink" href="#workcell-initialization" title="Permalink to this headline">¶</a></h1>
<div class="section" id="folder-structure">
<h2>Folder structure<a class="headerlink" href="#folder-structure" title="Permalink to this headline">¶</a></h2>
<p>It is (Highly) recommended to select the same workspace location as the workspace that you lodaded this package in.</p>
<p>From the main window, choose your workspace location. Ensure that the folder selected is the <strong>main workspace folder</strong>, i.e catkin_ws or colcon_ws</p>
<a class="reference internal image-reference" href="_images/workcell_loaded.png"><img alt="_images/workcell_loaded.png" class="align-center" src="_images/workcell_loaded.png" style="width: 364.0px; height: 306.0px;" /></a>
<p>Once you see the confirmation message that the workcell is loaded, you can then check that folder using your file explorer and you will see the various folders required to store your assets created. Choose the ROS version and distribution required and click next to be directed to the scene select window</p>
<div class="section" id="folder-structure-for-assets">
<h3>Folder Structure for Assets<a class="headerlink" href="#folder-structure-for-assets" title="Permalink to this headline">¶</a></h3>
<p>This package requires a standardized folder structure in order for the workcell builder to function well. This serves as good practice as well for users to store their files in a logical and standardized format. The following is how your folder should be structured</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="p">|</span>--workcell_ws
___<span class="p">|</span>--src
______<span class="p">|</span>--scenes
______<span class="p">|</span>--assets
_________<span class="p">|</span>--robots
____________<span class="p">|</span>--robot_brand
_______________<span class="p">|</span>--robot_model_description
_______________<span class="p">|</span>--robot_model_moveit_config
_________<span class="p">|</span>--end_effectors
____________<span class="p">|</span>--end_effector_brand
_______________<span class="p">|</span>--end_effector_model_description
_______________<span class="p">|</span>--end_effector_model_moveit_config
_________<span class="p">|</span>--environment_objects
____________<span class="p">|</span>--environment_objects_description
</pre></div>
</div>
<p>The rest of the documentation will highlight how it should be populated.</p>
</div>
</div>
<div class="section" id="generating-moveit-config-packages">
<h2>Generating Moveit Config packages<a class="headerlink" href="#generating-moveit-config-packages" title="Permalink to this headline">¶</a></h2>
<p>One key feature of this package is to generate workcell simulations that is compatible with path planning frameworks. The current version of the workcell builder is designed to be compatible with Moveit, a popular open source motion planning framework</p>
<p>The moveit configuration packages are required if you want to control your robot with the moveit (and the grasp execution component of easy_manipulation_deployment). It is recommended to use the <a class="reference external" href="http://docs.ros.org/en/kinetic/api/moveit_tutorials/html/doc/setup_assistant/setup_assistant_tutorial.html/">Moveit Setup Assistant</a> it is recommended to use this to generate the package rather than to do it yourself. Below are some existing moveit_config folders</p>
<p><a class="reference external" href="https://github.com/ros-industrial/universal_robot/">UR Robots</a></p>
<p><a class="reference external" href="https://github.com/ros-industrial/abb/">ABB Robots</a></p>
<div class="section" id="for-ros-2">
<h3><strong>FOR ROS 2</strong><a class="headerlink" href="#for-ros-2" title="Permalink to this headline">¶</a></h3>
<p>Note that the setup wizard only generates ROS1 packages for now, so if you are using ROS2, <strong>please convert the moveit_config packages to ROS2 before starting</strong>.</p>
<p>ROS2 Examples (ur5_moveit_config)</p>
<p>CMakeLists.txt:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake_minimum_required<span class="o">(</span>VERSION <span class="m">3</span>.10.2<span class="o">)</span>
project<span class="o">(</span>ur5_moveit_config<span class="o">)</span>
find_package<span class="o">(</span>ament_cmake REQUIRED<span class="o">)</span>

install<span class="o">(</span>DIRECTORY launch DESTINATION <span class="s2">&quot;share/</span><span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
install<span class="o">(</span>DIRECTORY config DESTINATION <span class="s2">&quot;share/</span><span class="si">${</span><span class="nv">PROJECT_NAME</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span>
ament_package<span class="o">()</span>
</pre></div>
</div>
<p>package.xml</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">&quot;1.0&quot;</span>?&gt;
&lt;package <span class="nv">format</span><span class="o">=</span><span class="s2">&quot;3&quot;</span>&gt;
  &lt;name&gt;ur5_moveit_config&lt;/name&gt;
  &lt;version&gt;0.6.4&lt;/version&gt;
  &lt;description&gt;Resources used <span class="k">for</span> MoveIt! testing&lt;/description&gt;

  &lt;author <span class="nv">email</span><span class="o">=</span><span class="s2">&quot;isucan@willowgarage.edu&quot;</span>&gt;Ioan Sucan&lt;/author&gt;
  &lt;author <span class="nv">email</span><span class="o">=</span><span class="s2">&quot;acorn@willowgarage.edu&quot;</span>&gt;Acorn Pooley&lt;/author&gt;

  &lt;maintainer <span class="nv">email</span><span class="o">=</span><span class="s2">&quot;dave@dav.ee&quot;</span>&gt;Dave Coleman&lt;/maintainer&gt;

  &lt;license&gt;BSD&lt;/license&gt;
  &lt;url <span class="nv">type</span><span class="o">=</span><span class="s2">&quot;website&quot;</span>&gt;http://moveit.ros.org&lt;/url&gt;
  &lt;url <span class="nv">type</span><span class="o">=</span><span class="s2">&quot;bugtracker&quot;</span>&gt;https://github.com/ros-planning/moveit-resources/issues&lt;/url&gt;
  &lt;url <span class="nv">type</span><span class="o">=</span><span class="s2">&quot;repository&quot;</span>&gt;https://github.com/ros-planning/moveit-resources&lt;/url&gt;

  &lt;buildtool_depend&gt;ament_cmake&lt;/buildtool_depend&gt;

  &lt;exec_depend&gt;joint_state_publisher&lt;/exec_depend&gt;
  &lt;exec_depend&gt;robot_state_publisher&lt;/exec_depend&gt;

  &lt;export&gt;
      &lt;build_type&gt;ament_cmake&lt;/build_type&gt;
  &lt;/export&gt;
&lt;/package&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="uploading-relevant-assets">
<h2>Uploading Relevant Assets<a class="headerlink" href="#uploading-relevant-assets" title="Permalink to this headline">¶</a></h2>
<p>Before generating a scene, you need to make sure you have the assets you need for the scene, especially for the robot and end effector.</p>
<div class="section" id="robots">
<h3>Robots<a class="headerlink" href="#robots" title="Permalink to this headline">¶</a></h3>
<p>For increased reusability and ease of visualization, we will create separate folders for separate vendors of Robots. For example, we will create a folder to store UR robots</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> workcell_ws/src/assets/robots

$ mkdir universal_robot
</pre></div>
</div>
<p>Copy over the moveit_config folder and description folders of the relevant robot models you want to add, ensuring that the folder names and file names follow the naming <a class="reference internal" href="workcell_builder_conventions.html#conventions"><span class="std std-ref">Conventions</span></a></p>
</div>
<div class="section" id="end-effector">
<h3>End Effector<a class="headerlink" href="#end-effector" title="Permalink to this headline">¶</a></h3>
<p>Simlarly for End Effectors, we will create a separate folder for each End Effector Vendor. For example, we will create a folder to store Robotiq Grippers</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> workcell_ws/src/assets/end_effectors

$ mkdir robotiq
</pre></div>
</div>
<p>Copy over the moveit_config folder and description folders of the relevant end_effector models you want to add, ensuring that the folder names and file names follow the naming <a class="reference internal" href="workcell_builder_conventions.html#conventions"><span class="std std-ref">Conventions</span></a></p>
</div>
<div class="section" id="environment-objects">
<h3>Environment Objects<a class="headerlink" href="#environment-objects" title="Permalink to this headline">¶</a></h3>
<p>For objects that is part of the environment that will be used as static collision objects, it should be stored in the <strong>workcell_ws/src/assets/environment folder</strong>.</p>
<p><strong>*Current version of the GUI does not support loading of existing environment objects. For simple environment objects, consider creating a copy of the environment objects with the gui instead</strong></p>
<p>Next step: <a class="reference internal" href="workcell_builder_create_scene.html#create-a-scene"><span class="std std-ref">Create A Scene</span></a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="workcell_builder_create_scene.html" class="btn btn-neutral float-right" title="Create A Scene" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="workcell_builder.html" class="btn btn-neutral float-left" title="Workcell Builder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Glenn Tan.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>